<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Watch to Unlock Content</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 50px;
    }
    .locker-container {
      border: 1px solid #ccc;
      padding: 20px;
      max-width: 400px;
      margin: auto;
    }
    #unlockButton {
      display: none;
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #0284C7;
      color: #fff;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div class="locker-container">
    <h2>Locked Content</h2>
    <p>Please watch the video below to unlock the content.</p>
    <!-- YouTube video embed -->
    <div id="player"></div>
    <button id="unlockButton">Unlock Content</button>
  </div>
  
  <!-- Load the YouTube IFrame API -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    let player;
    let videoFinished = false;

    // Create the YouTube player after the API code downloads.
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '240',
        width: '320',
        videoId: 'nKbuXU29PjM', // Replace with your YouTube video ID
        events: {
          'onStateChange': onPlayerStateChange
        }
      });
    }

    // Detect when the video has finished playing.
    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.ENDED) {
        videoFinished = true;
        document.getElementById('unlockButton').style.display = 'inline-block';
      }
    }

    // Redirect when the user clicks the unlock button.
    document.getElementById('unlockButton').addEventListener('click', function() {
      if (videoFinished) {
        window.location.href = 'https://example.com/your-final-content'; // Change to your final content URL
      } else {
        alert('Please watch the video to the end.');
      }
    });
  </script>
</body>
</html>
